<!DOCTYPE html>
<html>
  <head>
    <title>JekOS Installer</title>
      <style type="text/css">
* {
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
  font-size: 12pt;
}

h1 {
  font-weight: normal;
  font-size: 24pt;
  text-align: center;
}

h1 svg {
  width: 2.4em;
  vertical-align: bottom;
}

#installer {
  width: 25em;
  margin-left: auto;
  margin-right: auto;
  margin-top: 3em;
}

#installer table {
  width: 100%;
}

#installer input {
}

#installer th {
  text-align: left;
  font-weight: normal;
  padding: 0.33em;
}

#installer table tbody input {
  width: 100%;
}

#install-button {
  font-size: 14pt;
  margin-top: 0.5em;
  width: 5em;
  height: 2em;
}

#output {
  line-height: 1.5em;
  margin-top: 1em;
}

#info > * {
  display: none;
}

#progress .inactive {
  color: #ccc;
}

#progress .indicator {
  float: right;
}

.spinner {
  text-align: center;
}

.spinner > div {
  width: 12pt;
  height: 12pt;
  background-color: #333;
  margin-left: 0.25em;
  border-radius: 100%;
  display: inline-block;
  -webkit-animation: sk-bouncedelay 1.4s infinite ease-in-out both;
  animation: sk-bouncedelay 1.4s infinite ease-in-out both;
}

.spinner .bounce1 {
  -webkit-animation-delay: -0.32s;
  animation-delay: -0.32s;
}

.spinner .bounce2 {
  -webkit-animation-delay: -0.16s;
  animation-delay: -0.16s;
}

@-webkit-keyframes sk-bouncedelay {
  0%, 80%, 100% { -webkit-transform: scale(0) }
  40% { -webkit-transform: scale(1.0) }
}

@keyframes sk-bouncedelay {
  0%, 80%, 100% { 
    -webkit-transform: scale(0);
    transform: scale(0);
  } 40% { 
    -webkit-transform: scale(1.0);
    transform: scale(1.0);
  }
}
    </style>
  </head>
  <body>
    <div id="installer">
      <h1>
    <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 width="48.748px" height="48.748px" viewBox="0 0 48.748 48.748" style="enable-background:new 0 0 48.748 48.748;"
	 xml:space="preserve">
<g>
	<path d="M24.374,0C9.319,0,0,12.652,0,24.374c0,13.44,10.934,24.374,24.374,24.374c13.44,0,24.374-10.934,24.374-24.374
		C48.748,10.934,37.812,0,24.374,0z M41.832,10.405c-1.759-0.161-4.503-0.266-7.766,0.062c-0.348-0.911-1.041-1.647-1.926-2.043
		c0.276-2.055,0.489-3.726,0.621-4.787C36.337,5.089,39.454,7.438,41.832,10.405z M34.375,34.488
		c-2.085,0.146-4.441,0.172-7.061,0.002c-0.035-0.875-0.375-1.666-0.918-2.279c1.83-4.15,3.412-8.402,3.951-11.678
		c0.279-1.701,0.545-3.402,0.791-5.044c0.598,0.866,1.184,1.785,1.741,2.774c2.542,4.505,3.397,9.297,3.484,13.553
		C35.327,32.329,34.57,33.309,34.375,34.488z M23.666,30.968c-1.575,0-2.906,1-3.423,2.396c-3.646-1.108-6.77-3.027-9.332-5.15
		c0.309-0.537,0.5-1.151,0.5-1.815c0-0.758-0.23-1.461-0.625-2.045c1.952-2.096,4.445-4.303,7.623-6.415
		c3.023-2.009,6.17-3.323,9.179-4.18c0.385,0.59,0.934,1.061,1.584,1.35c-0.248,1.659-0.515,3.378-0.799,5.101
		c-0.496,3.011-1.971,6.983-3.695,10.919C24.355,31.034,24.02,30.968,23.666,30.968z M24.374,2c2.245,0,4.412,0.336,6.458,0.954
		c-0.122,0.994-0.354,2.842-0.671,5.198c-0.716,0.097-1.361,0.397-1.884,0.847c-3.528-3.423-7.027-5.336-9.379-6.344
		C20.615,2.234,22.44,2,24.374,2z M15.802,3.662c1.119,0.322,6.239,2.018,11.354,7.074c-0.098,0.329-0.165,0.669-0.165,1.028
		c0,0.02,0.005,0.038,0.006,0.057c-3.16,0.913-6.478,2.313-9.695,4.452c-3.373,2.242-6.002,4.573-8.062,6.788
		c-0.457-0.204-0.958-0.323-1.491-0.323c-0.655,0-1.262,0.187-1.794,0.488c-1.694-2.059-2.776-3.784-3.188-4.482
		C4.49,12.352,9.068,6.437,15.802,3.662z M2,24.374c0-0.926,0.068-1.859,0.192-2.79c0.589,0.871,1.382,1.947,2.338,3.104
		c-0.273,0.514-0.442,1.09-0.442,1.711c0,0.871,0.317,1.662,0.826,2.291c-0.717,1.16-1.271,2.205-1.662,3.052
		C2.445,29.434,2,26.955,2,24.374z M4.354,34.348c0.234-0.68,0.888-2.33,2.22-4.498c0.371,0.127,0.761,0.211,1.175,0.211
		c0.605,0,1.168-0.162,1.671-0.422c2.871,2.409,6.434,4.619,10.684,5.809c0.208,0.912,0.752,1.697,1.501,2.208
		c-1.828,3.655-3.491,6.668-4.222,7.969C11.691,43.747,7.004,39.645,4.354,34.348z M24.374,46.748c-1.721,0-3.394-0.202-5.004-0.571
		c0.857-1.53,2.451-4.442,4.171-7.897c0.042,0.001,0.083,0.013,0.125,0.013c1.35,0,2.514-0.737,3.15-1.823
		c1.451,0.106,2.834,0.162,4.129,0.162c1.299,0,2.511-0.05,3.65-0.131c0.283,0.677,0.764,1.248,1.368,1.646
		c-0.444,3.043-1.118,5.295-1.396,6.134C31.51,45.854,28.045,46.748,24.374,46.748z M37.109,42.755
		c0.279-1.069,0.582-2.433,0.828-4.008c0.013,0,0.024,0.004,0.039,0.004c1.9,0,3.445-1.454,3.625-3.308
		c1.021-0.245,1.896-0.5,2.607-0.737C42.523,37.93,40.078,40.691,37.109,42.755z M41.234,33.453
		c-0.541-1.074-1.586-1.835-2.83-1.982c-0.135-4.434-1.094-9.425-3.782-14.189c-0.539-0.954-1.099-1.844-1.671-2.688
		c0.646-0.525,1.119-1.253,1.29-2.1c4.747-0.482,8.338-0.008,9.155,0.119c2.123,3.42,3.352,7.449,3.352,11.762
		c0,2.724-0.49,5.332-1.385,7.748C44.773,32.381,43.373,32.934,41.234,33.453z"/>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
</svg>
JekOS Installer</h1>
    <form id="install-form">
      <table>
        <tbody>
          <tr>
            <th rowspan="3" style="color: white; background-color: black; text-align: center;">AWS</th>
            <th><label for="aws-region">Region:</label></th>
            <td><input id="aws-region" name="aws-region" type="text" value="us-west-2" required /></td>
          </tr>
          <tr>
            <th><label for="aws-access-key">Access Key ID:</label></th>
            <td><input id="aws-access-key" name="aws-access-key" type="text" required autofocus /></td>
          </tr>
          <tr>
            <th><label for="aws-secret-key">Secret Access Key:</label></th>
            <td><input id="aws-secret-key" name="aws-secret-key" type="password" required /></td>
          </tr>
          <tr>
            <th rowspan="2" style="border: 1px solid black; text-align: center;">JekOS</th>
            <th><label for="subdomain">Name your network:</label></th>
            <td><input id="subdomain" name="subdomain" type="text" required /></td>
          </tr>
          <tr>
            <th><label for="password">Set a password:</label></th>
            <td><input id="password" name="password" type="password" required /></td>
          </tr>
        </tbody>
        <tfoot>
          <tr>
            <td colspan="3" style="text-align: center"><input id="install-button" type="submit" value="Install" /></td>
          </tr>
        </tfoot>
      </table>
    </form>
    <div id="progress" style="display: none">
      <p id="step-keypair" class="inactive">Generate RSA key pair ...</p>
      <p id="step-launch" class="inactive">Launch EC2 instance ...</p>
      <p id="step-kernel" class="inactive">Set kernel password ...</p>
    </div>
    <div id="info">
      <div id="info-success">Your JekOS network is now ready at <a class="domain"></a>.</div>
      <div id="fail-keypair">Failed to generate an RSA keypair. This is necessary to establish secure communication with the kernel. Try with another browser.</div>
      <div id="fail-launch">Failed to launch an EC2 instance. Check that the AWS credentials you provided were correct and that they have sufficient privileges to launch EC2 instances, for example:
      <pre>{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Action": "ec2:*",
      "Effect": "Allow",
      "Resource": "*"
    },
  ]
}</pre>
      </div>
      <div id="fail-kernel">Failed to communicate with the kernel. Check the AWS console to see if the instance is running and passing all tests. Next, try loading your domain <a class="domain"></a> manually.</div>
    </div>
    </div>
    <script src="aws-sdk"></script>
    <script src="installer"></script>
  </body>
</html>
